<!-- START -->
<!-- html header, styling for Tutorials pages -->
<!-- note: requires stylesheet.css to be in the parent directory; see <head> section -->
<!-- copy the contents below into the appropriate sections of your html page -->

<!-- document setup -->

<html>

<!-- head area -->
<head>
<!-- <meta charset="utf-8" /> --> <!-- old version -->
<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0" /> <!-- set the viewport https://www.w3schools.com/css/css_rwd_viewport.asp -->
<title>Tutorials - HNN</title>
<!-- import CSS style sheet from Github directory -->
<link rel = "stylesheet" type = "text/css" href = "../html-styling/stylesheet.css" />
</head>

<!-- body styling -->
<body>

<!-- add Navbar -->
<div class="navbar">
  <div id="wrapper">
    <img src="https://hnn.brown.edu/wp-content/uploads/2018/05/mainlogo3.png" alt="HNN" scale="0">
    <a href="https://hnn.brown.edu/index.php/tutorials/#jumptutorials">TUTORIALS</a>
    <a href="https://hnn.brown.edu">HOME</a>
  </div>
</div>

<!-- add Tutorials header -->
<div class="headercontainer main">
<div class="headertext">  </div>
</div>

<!-- set width for body to 900px -->
<div id="wrapper">

<!-- add button to scroll to top -->
<button onclick="topFunction()" id="myBtn" title="Scroll to top">Top</button>

<!-- script for scroll button function -->
<script>
//Get the button:
mybutton = document.getElementById("myBtn");
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};
function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}
// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0; // For Safari
  document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
}
</script>

<!-- return to tutorials page -->
<div style="text-align:center; vertical-align: middle; padding:10px;">
<p></p>

<tbody>
<tr style="border: none;">
<td style="border: none; width: 33.3%; padding: 1px;">
</td>

<td style="border: none; width: 33.3%; padding: 1px;">
<!--<a style="text-decoration: none" href="https://hnn.brown.edu/index.php/tutorials/">-->
<p><img src="https://hnn.brown.edu/wp-content/uploads/2019/06/EEG_Brain.png" width="60" height="auto"></p>
<p style=" font-family: sans-serif; font-size: x-large; font-weight:700; color: #1156a3; border:0px; margin:0px;">Workshop Instructions</p>
<!--</a>-->
</td>

<td style="border: none; width: 33.3%; padding: 1px;">
</td>
</tr>
</tbody>
</div>

<!-- your contents go here -->

<!-- </body> -->
<!-- </html> -->
<!-- END -->
<h2 id="logging-into-the-oscar-virtual-environment">Logging into the Oscar Virtual Environment</h2>
<ol type="1">
<li><p>Go to Oscar-on-Demand (OOD): <a href="https://ood.ccv.brown.edu/pun/sys/dashboard/batch_connect/sessions">ood.ccv.brown.edu/pun/sys/dashboard/batch_connect/sessions</a></p></li>
<li><p>Type in the username provided via the workshop host.</p>
<ul>
<li>Note: there will be a physical sheet with usernames and their associated bypass code</li>
</ul></li>
<li><p>Type in the password: <strong>TBD</strong></p></li>
<li><p>From the DUO authentication screen, select “Other options” and then choose “Bypass code”</p></li>
<li><p>Enter the bypass code associated your chosen username</p></li>
</ol>
<h2 id="launching-hnn-core-gui-via-oscar">Launching HNN-Core GUI via Oscar</h2>
<p>From the Oscar virtual desktop, open a terminal and run the following command</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1"></a><span class="ex">hnn-gui</span></span></code></pre></div>
<h2 id="launching-hnn-core-python-via-oscar">Launching HNN-Core (Python) via Oscar</h2>
<p>From the Oscar virtual desktop, open a terminal and run the following commands.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1"></a><span class="ex">module</span> load hnn-workshop/2023.11</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="ex">module</span> load miniconda/4.12.0 firefox/87.0</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="bu">source</span> /oscar/runtime/opt/hnn-workshop/2023.11/bin/activate</span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="fu">git</span> clone <span class="op">&lt;</span>https://github.com/jasmainak/hnn-workshop-materials.git<span class="op">&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="bu">cd</span> hnn-workshop-materials/</span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="ex">jupyter</span> notebook <span class="kw">&amp;</span></span></code></pre></div>
<h2 id="cloning-the-hnn-data-repository">Cloning the HNN-Data Repository</h2>
<p>To follow along with the workshop, you’ll need to clone the <a href="https://github.com/jonescompneurolab/hnn-data">hnn-data repository</a> to your local machine.</p>
<p>To do so, launch a terminal and run the following command.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">git</span> clone https://github.com/jonescompneurolab/hnn-data.git</span></code></pre></div>
<p>If you already have the hnn-data repo on your machine, be sure to update it to include the latest changes</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1"></a><span class="bu">cd</span> hnn-data</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">git</span> pull</span></code></pre></div>
<h2 id="installing-hnn-core-gui-on-your-local-machine-via-conda">Installing HNN-Core GUI on Your Local Machine via Conda</h2>
<p>Start by creating a new conda environment. We recommend creating an environment with the fewest number of dependencies to speed up the installation process.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1"></a><span class="ex">conda</span> create --name hnn_core_gui python=3.11 --no-default-packages</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="ex">conda</span> activate hnn_core_gui</span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="ex">pip</span> install --pre hnn-core[gui]</span></code></pre></div>
<p>To run simulations in parallel across multiple cores, which dramatically speeds up siuations, you’ll need to set up the MPI backend.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1"></a><span class="ex">conda</span> activate hnn_core_gui <span class="co"># activate the environment if needed</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="ex">conda</span> install -y openmpi mpi4py</span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="ex">pip</span> install psutil</span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="bu">export</span> <span class="va">DYLD_FALLBACK_LIBRARY_PATH=${CONDA_PREFIX}</span>/lib</span></code></pre></div>
<p>You can now launch the GUI from within your conda environemnt.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1"></a><span class="ex">conda</span> activate hnn_core_gui <span class="co"># activate the environment if needed</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="ex">hnn-gui</span></span></code></pre></div>

<br><br><br><br>